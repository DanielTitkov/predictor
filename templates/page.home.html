{{ define "title" }} Crowdsourced predictions {{ end }}
{{ define "view" }}

<main>
  <div class="section has-text-centered">
    <h1 class="title is-1">Predictor</h1>
    <h3 class="subtitle is-3">Crowd predictions on various topics</h3>
  </div>
  <div class="block">
    <div class="columns is-4">
      <div class="column">
        <div class="box p-6">
          <h4 class="title is-4 has-text-centered">Близки к завершению</h4>
          {{ if eq .ClosingChallengesCount 0 }}
          <h5 class="title is-5 has-text-centered">Сейчас нет незавершенных предсказаний</h5>
          {{ else }}
          {{ range $i, $challenge := .ClosingChallenges }}
          {{ template "challenge-card" $challenge }}
          {{ end }}
          {{ end }}

          <h4 class="title is-4 has-text-centered">Открытые предсказания</h4>
          {{ if eq .RandomOngoingChallengesCount 0 }}
          <h5 class="title is-5 has-text-centered">Пока нет вопросов на которые вы ещё не ответили</h5>
          {{ else }}
          {{ range $i, $challenge := .RandomOngoingChallenges }}
          {{ template "challenge-card" $challenge }}
          {{ end }}
          {{ end }}
        </div>

      </div>
      <div class="column">
        <div class="box p-6">
          <h4 class="title is-4 has-text-centered">Завершенные предсказания</h4>
          {{ range $i, $challenge := .RandomFinishedChallenges }}
          {{ template "challenge-card" $challenge }}
          {{ end }}

          <h4 class="title is-4 has-text-centered">Ожидают результата</h4>
          {{ if eq .RandomPendingChallengesCount 0 }}
          <h5 class="title is-5 has-text-centered">Сейчас нет предсказаний без результата</h5>
          {{ else }}
          {{ range $i, $challenge := .RandomPendingChallenges }}
          {{ template "challenge-card" $challenge }}
          {{ end }}
          {{ end }}
        </div>
      </div>
    </div>
  </div>
  {{ if .Summary }}
  <div class="section">
    {{ template "system-summary" .Summary }}
  </div>
  {{ end }}
</main>

{{ end }}